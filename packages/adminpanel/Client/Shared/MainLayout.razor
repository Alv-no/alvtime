@using Alvtime.Adminpanel.Client.Resources
@using Microsoft.Extensions.Localization
@inherits LayoutComponentBase
@inject IStringLocalizer<SharedContentStrings> Localizer

<MudThemeProvider Theme="_alvTheme"/>
<MudDialogProvider/>
<MudPopoverProvider />
<MudSnackbarProvider/>

<MudLayout>
    <MudAppBar Elevation="2">
        <MudIconButton Icon="@(_drawerOpen ? @Icons.Material.Filled.MenuOpen:@Icons.Material.Filled.Menu)" Color="Color.Inherit" Edge="Edge.Start" OnClick="@(_ => DrawerToggle())"/>
        <MudText Typo="Typo.h5">@Localizer["Common.AppTitle"]</MudText>
        <MudSpacer/>
        <LoginDisplay/>
    </MudAppBar>
    <MudDrawer @bind-Open="@_drawerOpen" ClipMode="@DrawerClipMode.Always" Variant="DrawerVariant.Responsive">
        <NavMenu/>
    </MudDrawer>
    <MudMainContent Class="mt-8">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    bool _drawerOpen = true;
    
    /* Branding */
    private const string AlvBrandingBlue = "#243F4D";
    private const string AlvBrandingGreen = "#9DAC86";
    private const string AlvBrandingLightBrown = "#E6C08D";
    private const string AlvBrandingBeige = "#F8F1E3";
    
    private static readonly string[] AlvBrandFontFamilyHeading = ["Libre Baskerville", "sans-serif"];
    private static readonly string[] AlvBrandFontFamilyDefault = ["League Spartan", "League Spartan Placeholder", "sans-serif"];

    readonly MudTheme _alvTheme = new ()
    {
        PaletteLight = new PaletteLight()
        {
                Primary = AlvBrandingBlue,
                PrimaryContrastText = AlvBrandingLightBrown,
                Secondary = AlvBrandingGreen,
                SecondaryContrastText = AlvBrandingBlue,
                Tertiary = AlvBrandingLightBrown,
                TertiaryContrastText = AlvBrandingBlue,
                Background = AlvBrandingBeige,
                TextPrimary = AlvBrandingBlue,
                DrawerBackground = AlvBrandingBeige,
                DrawerText = AlvBrandingBlue,
                DrawerIcon = AlvBrandingBlue,
                AppbarBackground = AlvBrandingBlue,
                AppbarText = AlvBrandingLightBrown,
                Surface = AlvBrandingBeige,
                TableLines = AlvBrandingBlue,
   
        },
        Typography = new Typography()
        {
            Default = new Default()
            {
                FontFamily = AlvBrandFontFamilyDefault,
            },
            Button = new Button()
            {
                FontFamily = AlvBrandFontFamilyDefault,
                FontWeight = 600,
                FontSize = "18px"
            },
            H1 = new H1()
            {
                FontFamily = AlvBrandFontFamilyHeading
            },
            H2 = new H2()
            {
                FontFamily = AlvBrandFontFamilyHeading
            },
            H3 = new H3()
            {
                FontFamily = AlvBrandFontFamilyHeading
            },
            H4 = new H4()
            {
                FontFamily = AlvBrandFontFamilyHeading
            },
            H5 = new H5()
            {
                FontFamily = AlvBrandFontFamilyHeading
            },
            H6 = new H6()
            {
                FontFamily = AlvBrandFontFamilyHeading
            },
            
            
        }
    };
    
    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
    
}
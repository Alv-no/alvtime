<template>
  <div>
    <md-dialog :md-active.sync="showDialog">
      <md-dialog-title>Gapestokk</md-dialog-title>
      <div class="body">
        <h4>SHAME 游댒 SHAME 游댒 SHAME 游댒</h4>
        <img class="light logo" src="/img/niclas.png" alt="Hvit Alv-logo" />
        <p>
          Niclas har under denne hjemmekontor tiden hatt vanskeligheter med 친
          m칮te tidsnokk til den daglige Alvtime standupen kl 10:00.
        </p>
        <p>
          Vi i Alvtime gruppen har valgt 친 "hjelpe" Niclas p친 f칮lgende m친te.
          F칮rst og fremst ved 친 p친peke ironien i at prosjektlederen som
          arrangerer m칮tene ikke m칮ter opp til tiden og minne han p친 hans egne
          sitat.
        </p>
        <blockquote cite="https://www.huxley.net/bnw/four.html">
          <i
            >"Det verste jeg vet er folk som kommer 5 minutter for sent til
            m칮ter."</i
          >
          <footer>- Niclas Ahlbom</footer>
        </blockquote>

        <p>
          Alvtime gruppen vil ogs친 holde telling p친 gjennomsnitlig antall
          minutter Niclas kommer for sent til m칮tene. Denne gapestokken er
          programert til 친 vises s친 lenge gjennomsnittet er over 5 minutter.
        </p>

        <p>
          Vi h친per ogs친 at du som den
          <strong>칝rlige, r친{{ " " }}</strong
          >og
          <strong>engasjerte</strong>
          Alven du er, vil hjelpe Niclas igjennom dette ved 친 minne han p친 hans
          egne sitat ved f칮rste anledning.
        </p>

        <p>
          (Trykk p친 Alv logoen og last siden p친 nytt dersom du vil se
          gapestokken igjen.)
        </p>

        <md-dialog-actions>
          <md-button class="md-primary" @click="onDialogActionClick">{{
            actionText
          }}</md-button>
        </md-dialog-actions>
      </div>
    </md-dialog>
  </div>
</template>

<script lang="ts">
import Vue from "vue";
import store from "store2";

export default Vue.extend({
  data: () => ({
    showDialog: true,
  }),

  computed: {
    actionText() {
      const { userName, name } = this.$store.state.account;
      console.log("userName: ", userName);
      return userName === "niclas@alv.no"
        ? `Mitt navn er ${name} og jeg skammer meg!`
        : `Jeg ${name}, lover 친 minne Niclas Ahlbom p친 dette, ved f칮rst anledning!`;
    },
  },

  created() {
    this.showDialog = !this.$store.state.dontShowGapestokk;
  },

  methods: {
    onDialogActionClick() {
      this.showDialog = false;
      this.$store.commit("SET_DONT_SHOW_GAPESTOKK", true);
    },
  },
});
</script>

<style scoped>
.body {
  padding: 0 1rem;
  padding-bottom: 1rem;
  overflow: auto;
  max-width: calc(100vw);
}

img {
  max-width: calc(100vw - 2rem);
}

@media only screen and (min-width: 600px) {
  img {
    max-width: 300px;
    float: left;
    margin-right: 1rem;
  }
}

.body >>> .md-button,
.md-button-clean {
  white-space: unset;
}

.body >>> .md-button {
  text-transform: unset;
}
</style>

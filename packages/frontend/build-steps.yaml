steps:
  - checkout: self
    fetchDepth: 1

  - task: Docker@2
    displayName: Build
    inputs:
      command: "build"
      Dockerfile: "packages/frontend/Dockerfile"
      repository: "alvnoas/alvtime-frontend"
      tags: "$(git-short-hash)"

  - task: Docker@2
    displayName: Push
    inputs:
      command: "push"
      containerRegistry: "alvdockerdev"
      repository: "alvnoas/alvtime-frontend"
      tags: "$(git-short-hash)"
